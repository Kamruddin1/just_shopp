<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OLX-CLONE</title>
    <link rel="stylesheet" href="./style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

    <!-- navigation-bar -->
    <nav id="nav">
        <ul id="list1">
            <li><img src="" class="" alt="Logo"></li>
            <li>
                <select name="location" id="select">
                    <option value="Default">Select location</option>
                    <option value="India">Delhi</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Noida">Noida</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Hydrabad">Hydrabad</option>
                </select>
            </li>
            <li class="search">
                <input type="text" placeholder=" Search here" id="search" />
                <button><ion-icon name="search-outline"></ion-icon></button>
            </li>
            <li class="message">
                <ion-icon name="mail-open-outline"></ion-icon>
            </li>
            <li class="bell">
                <ion-icon name="notifications-outline"></ion-icon>
            </li>
            <li>
                <button id="log">
                    <a href="./Login-Page/index.html">Login</a>
                </button>
            </li>
            <li>
                <button id="sell">
                    <ion-icon name="add-outline"></ion-icon>sell
                </button>
            </li>
        </ul>
    </nav>
    <br />
    <br />
    <br />


    <!-- Advertisement 1-->
    <!-- <div class="">
        <img src="" />    
    </div> -->


    <!-- data-fetch -->
    <div id="container">
    </div>
    <div class="new" id="outer"></div>


    <!-- load-more -->
    <div class="load-more">
        <button id="load" onclick="loadMore()">Lode More</button>
    </div>

    <!-- Advertisement 2-->
    <!-- <div class="">
        <img src="" />    
    </div> -->


    <!-- Footer -->
    <div class="download-section">
        <div class="download">
            <img src="./assets/images/footer-img.png" class="images" alt="mobile-image" />

            <div class="text">
                <h1>TRY THE ----- APP</h1>
                <p>Buy, sell and find just about anything using <br />
                    the app on your mobile.
                </p>
            </div>
            <div class="download_store">
                <p>GET YOUR APP TODAY</p>
                <img src="./assets/images/play-store.jpg" alt="play-store" />
                <img src="./assets/images/app-store.jpg" alt="app-store" />
            </div>
        </div>
    </div>

    <div class="main_footer">
        <div class="footer">
            <div class="footer_box">
                <h2>POPULAR LOCATIONS</h2>
                <p>Kolkata</p>
                <p>Mumbai</p>
                <p>Chennai</p>
                <p>pune</p>
            </div>
            <div class="footer_box">
                <h2>TRENDING LOCATIONS</h2>
                <p>Bhubaneshwar</p>
                <p>Hyderabad</p>
                <p>Chandigarh</p>
                <p>Nashik</p>
            </div>
            <div class="footer_box">
                <h2>ABOUT US</h2>
                <p>About OLX Group</p>
                <p>Careers</p>
                <p>Contact Us</p>
                <p>OLXPeople</p>
            </div>
            <!-- <div class="footer_box">
                <h2>OLX</h2>
                <p>Help</p>
                <p>Legal & Privacy information</p>
                <p>Blog</p>
            </div> -->
        </div>
    </div>

    <script src="./javascript/data.js"></script>
    <script src="./javascript/data-fetch.js"></script>
    <script>
        function loadMore(){
            let cardss= document.getElementById('outer');
          cardss.style.display="flex";
                }
    </script>





    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAvmL-g0PRjxKgdkdcI2ZPSLFLixcjWL9o",
          authDomain: "shopp-275bd.firebaseapp.com",
          databaseURL: "https://shopp-275bd-default-rtdb.firebaseio.com",
          projectId: "shopp-275bd",
          storageBucket: "shopp-275bd.appspot.com",
          messagingSenderId: "768750467172",
          appId: "1:768750467172:web:8714137743d227ab058771",
          measurementId: "G-25J6TVD26F"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        import{getDatabase, ref, get, set, child, update, onValue, remove}
        from "https://www.gstatic.com/firebasejs/9.19.0/firebase-database.js"
        const db = getDatabase();
        //----------------------------------------------------------------------
        var namebox=document.getElementById("name");
        var priceIt=document.getElementById("price");
        var picture=document.getElementById("pic");
        
      
      var itemName=document.getElementById("item name");
      var modelYear=document.getElementById("modelYear");
      var phoneNum=document.getElementById("phoneNum");
      var category=document.getElementById("category");
      var description=document.getElementById("txt");
      var submit=document.getElementById("sub");
      
      
      var show=document.getElementById("create");
      // -----------------------------------------------------------
      function InsertData(){
        set(ref(db, "userdata/" + phoneNum.value),{
            nameUser: namebox.value,
            itemPic:picture.value,
            priceItem:priceIt.value,
            nameItem: itemName.value,
            yearModel: modelYear.value,
            mobileUser: phoneNum.value,
            categoryItem: category.value,
            desItem: description.value,
        })
        .then(()=>{
          // console.log(itemPic);
          
          
            alert("data stored successfully")
            .catch((error)=>{
                alert("unsuccessful ...!!"+error)
            })
        })
      }
      
      //----------------------------creating card----------------------------
      let box =document.getElementById('outer');
              
              function card(priceItem,nameItem,yearModel,categoryItem){
                  let maincard=document.createElement('div');
                  let subcard=document.createElement('div');
                  subcard.classList.add('subcard')
                  maincard.classList.add('maincard')
                  box.appendChild(maincard);
                  maincard.appendChild(subcard);
                  
                  
                  let p1=document.createElement('p');
                  let v1=document.createElement('p');
                  let p2=document.createElement('p');
                  let p3=document.createElement('p');
                  //---------------------------------
                  
      //------------------------------------- - - - - - - - - - - - - - - - - - - - - - - - -
                  
                  p1.innerText=`price :${priceItem}`;
                  v1.innerText=`Item name :${nameItem}`;
                  p2.innerText=`Year of purcase :${yearModel}`;
                  p3.innerText=` Type : ${categoryItem}`;
                  maincard.appendChild(p1);
                  maincard.appendChild(v1);
                  maincard.appendChild(p2);
                  maincard.appendChild(p3);
                  
                  
              }
               //-----------------set all object atrributes-----------------
               function allItem(userdata){
                  // maincard.innerHTML="";
                  userdata.forEach(e=>{
                      card(e.priceItem,e.nameItem,e.yearModel,e.categoryItem);
                  });
              }
               //-------------------get realtime response------------------------
      
               function getdatarealtime(){
                  const dbRef=ref(db,"userdata");
                  onValue(dbRef,(snapshot)=>{
                      var students=[];
                      snapshot.forEach(childSnapshot=>{
                          students.push(childSnapshot.val());
                      });
                      allItem(students);
                  })
              }
              window.onload=getdatarealtime;
              //============================================================
      
      
                
      
      //============================================================
      // window.addEventListener('load',InsertData);
          submit.addEventListener('click',InsertData);
          // show.addEventListener('click',SelectData);
      
          //=============================================================
          
      
        </script>
</body>

</html>